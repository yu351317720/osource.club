<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
 
<title>Examples</title>
<style type="text/css">

#small { font-size:12px; color:#F00; background-color:#993;}
.aaa {
	width: 1200px;
	height: 200px;
	text-align:center;
	line-height:200px;
	background-color:#99C;
	position:relative;
	top:500px;
	float:left;
	margin:5px;
}
.bbb {
	width:1000px;		
	line-height:20px;
	margin:0 auto;
	text-align:center;
	background-color:#C93;
	position:absolute;	
	left:50px;
	top:-40px;
}

/*hover可以控制兄弟元素以及子孙元素样式*/
</style>
</head>
<body>
<div class="aaa"  onMouseOver="down(this)" onMouseOut="up(this)">
    <div class="bbb" id="box" >
        <p>我就想试一试我试我就想试一试我就想试一试我测试文本就想试一试测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测我就想试一试我试我就想试一试我就想试一试我测试文本就想试一试测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本试文本测试文本就想试一试我测试文本就想试一试测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本</p> 
    </div>
</div>
<script>
var oBox=document.getElementById('box');
var p = oBox.childNodes[1];
oBox.innerHTML = oBox.innerText.slice(0,122)+'<span id="ell">　...</span>';		 		
document.getElementById('ell').style.color = 'red';


var A = function cut(ev){	
	ev.type == 'mouseover'?over():out();	
	var timer1 = timer2 =null;r
	function over(){
		clearInterval(timer2);
		oBox.innerHTML = p.innerHTML;		
		
		var b_style = window.getComputedStyle(oBox, null);		
		var height =  b_style.getPropertyValue("height");
		var line_heght =b_style.getPropertyValue("line-height"); 
		
		var t = oBox.offsetTop;	
		var h = parseInt(height);
		var lh = 	parseInt(line_heght);
		timer1 = setInterval(playB,10);
		n = t-h+lh*2;
		function playB(){	
		if(t <= n  ){		
			clearInterval(timer1);
		}else{	
		
		oBox.style.top = t-1+'px';
		t = parseInt(oBox.style.top);
		//alert(t);	
		}
		}		
	}
	
	function out(){	
		clearInterval(timer1);			
		var b_style = window.getComputedStyle(oBox, null);
		var height =  b_style.getPropertyValue("height");
		var line_heght =b_style.getPropertyValue("line-height"); 
		
		var t = oBox.offsetTop;	
		//alert(t);
		var h = parseInt(height);		
		var lh = parseInt(line_heght);
		timer2 = setInterval(playA,10);
				
		function playA(){	
		if(t >= -2*lh){				
			clearInterval(timer2);
		}else{	
		oBox.style.top = t+1+'px';	
		t = parseInt(oBox.style.top);	
		}
		}
		var compt_time = -10*(t+lh*2)
		setTimeout(function(){
			oBox.innerHTML = oBox.innerText.slice(0,122)+'<span id="ell">　...</span>';		 		
		document.getElementById('ell').style.color = 'red';	
			},compt_time);
	}
	
}
oBox.onmouseover = A;
oBox.onmouseout = A;



</script>
</body>
</html>