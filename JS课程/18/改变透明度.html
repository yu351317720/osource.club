<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>
<style>
#box {
	position: absolute;
	margin: 0 auto;
	width: 600px;
	height: 340px;
	
}
#img {
	width: 600px;	
	opacity: 1;/*其他，透明度50%*/
	/*transition:all 1s ease-out 0s;*/
}
#aaa {
	position: absolute;
	top: 150px;
	left: 30px;
}
#bbb {
	position: absolute;
	top: 150px;
	left: 520px;
}
</style>
<body onload="bofang()">
<div id="box"> 
	<img  src="1.jpg" alt="banner" id="img" onmouseover="tingzhi()" onmouseout="bofang()"  />   
    
	<input id="aaa" type="button" onclick="next(1)" value="<" />
	<input id="bbb" type="button" onclick="next(0)" value=">" />
</div>
<script>
var banner = new Array();
	banner[0] = '1.jpg';
	banner[1] = '2.jpg';
	banner[2] = '3.jpg';
	banner[3] = '4.jpg';
	banner[4] = '5.jpg';
	banner[5] = '6.jpg';

for(i=0;i<banner.length;i++){
	var imgObj = new Image();		
	imgObj.src =banner[i];		
}

var k = 0;
var m ;
function Copacity(){	
document.getElementById('img').style.opacity = 1-m;
m=m+0.01;
}
//自动播放的方法
function play(){
	//初始化透明度
	m = 0.01;
	clearInterval(t);
	t =null;
	document.getElementById('img').style.opacity = 1;
	
	//开启透明度方法
	t = setInterval(Copacity,30);
	
	if(k>banner.length-2){k=-1}
	k +=1;
	document.getElementById('img').src =banner[k];	
	
}

//左右翻页的方法
function next(arr){
	if(arr == 1){	
		if(k<1){k=banner.length};k -=1;				
	}else if(arr == 0){	
		if(k>banner.length-2){k=-1}	;  k +=1;			
	}
	clearInterval(timer); document.getElementById('img').src =banner[k];
	
	//初始化透明度
	m = 0.01;
	clearInterval(t);
	t =null;
	document.getElementById('img').style.opacity = 1;
	//开启透明度方法
	timer = setInterval(play,3000);
	t = setInterval(Copacity,30);	
}
	
//播放的方法
function bofang(){	
	t = setInterval(Copacity,30);
	timer = setInterval(play,3000);
	
}
	
	
//停止的方法
function tingzhi(){
clearInterval(timer);
clearInterval(t);
m = 0.01;
document.getElementById('img').style.opacity = 1;
}
</script>
</body>
</html>
