<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>
<style>
#box {
	position: absolute;
	margin: 0 auto;
	width: 600px;
	height: 340px;
	
}
#img {
	width: 600px;
	filter: alpha(opacity=100); /*IE滤镜，透明度50%*/
	-moz-opacity:1; /*Firefox私有，透明度50%*/
	opacity: 1;/*其他，透明度50%*/
}
#aaa {
	position: absolute;
	top: 150px;
	left: 30px;
}
#bbb {
	position: absolute;
	top: 150px;
	left: 520px;
}
</style>
<body onload="bofang()">
<div id="box"> 
	<img  src="1.jpg" alt="banner" id="img"  onmouseover="tingzhi()" onmouseout="bofang()"/>
	<input id="aaa" type="button" onclick="next(37)" value="<" />
	<input id="bbb" type="button" onclick="next(39)" value=">" />
    <p>左右键翻页</p>
</div>
<script>
var banner = new Array();
	banner[0] = '1.jpg';
	banner[1] = '2.jpg';
	banner[2] = '3.jpg';
	banner[3] = '4.jpg';
	banner[4] = '5.jpg';
	banner[5] = '6.jpg';

for(i=0;i<banner.length;i++){
	var imgObj = new Image();		
	imgObj.src =banner[i];
	
}

var k = 0;

//自动播放的方法
function play(){
	if(k>banner.length-2){k=-1}
	k +=1;
	document.getElementById('img').src =banner[k];
				 
		
}
		
//左右翻页的方法
function next(arr){
	if(arr == 37){
		if(k<1){k=banner.length}			
		clearInterval(timer);
		k -=1;
		document.getElementById('img').src =banner[k]
		}else if(arr == 39){	
		if(k>banner.length-2){k=-1}		
		clearInterval(timer);
		k +=1;
		document.getElementById('img').src =banner[k];								
	}		
}
	
//播放的方法
function bofang(){
 timer = setInterval(play,2000);
}
	
	
//停止的方法
function tingzhi(){
clearInterval(timer);
}

document.onkeydown=function(ev){
    var oEvent = ev || event;   //处理兼容
    var key = oEvent.keyCode;	
	if( key == 37||39 ){
	tingzhi();
	next(key);
	bofang();
	}
};
</script>
</body>
</html>
